(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7896:function(e,t,r){Promise.resolve().then(r.bind(r,4801))},4801:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var s=r(3827),i=r(4090);function a(e){let{rows:t,table_id:r}=e;return(0,s.jsxs)("div",{className:"mx-[4rem] min-w-[60rem] max-w-[70rem] snap-center snap-always flex-row justify-center  text-center text-slate-300",children:[r,(0,s.jsx)("table",{id:r,className:" h-fit w-fit table-fixed ",children:(0,s.jsxs)("tbody",{className:"block max-h-[40rem] overflow-y-auto scroll-smooth ",children:[(0,s.jsx)(n,{}),[...Array(t)].map((e,t)=>(0,s.jsx)(c,{row_id:"".concat(r,"_row").concat(t)},"".concat(r,"_row").concat(t)))]})})]})}function n(){return(0,s.jsxs)("tr",{className:"sticky top-0 bg-gray-700  text-xl text-blue-100",children:[(0,s.jsx)("th",{className:"w-2/12 border-2 border-gray-300 text-center",children:"Index"}),(0,s.jsx)("th",{className:"w-2/12 border-2 border-gray-300 text-center",children:"Valid"}),(0,s.jsx)("th",{className:"w-2/12 border-2 border-gray-300 text-center",children:"Tag"}),(0,s.jsx)("th",{className:"w-6/12 border-2 border-gray-300 text-center",children:"Data"}),(0,s.jsx)("th",{className:"w-2/12 border-2 border-gray-300 text-center",children:"Dirty Bit"})]})}function c(e){let{row_id:t}=e;return(0,s.jsxs)("tr",{id:t,className:"bg-gray-600  p-1 text-blue-100",children:[(0,s.jsx)("td",{id:t+"_index",className:"h-[2rem] border-2 border-gray-400 p-1"}),(0,s.jsx)("td",{id:t+"_valid",className:"border-2 border-gray-400 p-1"}),(0,s.jsx)("td",{id:t+"_tag",className:"border-2 border-gray-400 p-1"}),(0,s.jsx)("td",{id:t+"_data",className:"border-2 border-gray-400 p-1"}),(0,s.jsx)("td",{id:t+"_dirtybit",className:"border-2 border-gray-400 p-1"})]})}class o{constructor(){this.OffsetBitErrorFunc=e=>e<1||e>16||!Number.isInteger(e)||(this.entered_cache_settings.OffsetBits=e,!(-1==this.entered_cache_settings.MemorySize||this.verifyOffsetAgainstMemorySize())),this.CacheSizeErrorFunc=e=>{let t=this.numInErrorResolver(e);return!1==t&&(this.entered_cache_settings.CacheSize=e),""!=this.entered_cache_settings.Associativity&&!1==this.verifyCacheSizeAgainstEverything()||t},this.MemorySizeErrorFunc=e=>{let t=this.numInErrorResolver(e);return!1==t&&(this.entered_cache_settings.MemorySize=e),t},this.numInErrorResolver=e=>e<1||e>16384||e%2!=0||!Number.isInteger(e)||!Number.isInteger(Math.log2(e)),this.verifyOffsetAgainstMemorySize=()=>!(Math.log2(this.entered_cache_settings.MemorySize)<=this.entered_cache_settings.OffsetBits),this.verifyCacheSizeAgainstEverything=()=>{let e=Math.pow(2,this.entered_cache_settings.OffsetBits),t=this.entered_cache_settings.CacheSize/e;if(t<1)return!1;let r=t;switch(this.final_cache_settings.Associativity){case"2-Way SA":r=2,t/=2;break;case"4-Way SA":r=4,t/=4;break;case"Fully Associative Cache":r=t,t=1;break;default:r=1}this.entered_cache_settings.Tables=r,this.entered_cache_settings.Rows=t;let s="Fully Associative Cache"!=this.entered_cache_settings.Associativity?Math.log2(t/r):0;return this.entered_cache_settings.s_bits=s,!(s+this.entered_cache_settings.OffsetBits+1>Math.log2(this.entered_cache_settings.MemorySize))},this.setAssociativity=e=>{this.entered_cache_settings.Associativity=e},this.getAssociativity=()=>this.entered_cache_settings.Associativity,this.setReplacement=e=>{this.entered_cache_settings.Replacement=e},this.getReplacement=()=>this.entered_cache_settings.Replacement,this.verifyAllAreCorrect=()=>!!(""!=this.entered_cache_settings.Associativity&&""!=this.entered_cache_settings.Replacement&&-1!=this.entered_cache_settings.MemorySize&&-1!=this.entered_cache_settings.CacheSize&&-1!=this.entered_cache_settings.OffsetBits&&this.verifyCacheSizeAgainstEverything()&&this.verifyOffsetAgainstMemorySize())&&(this.final_cache_settings={...this.entered_cache_settings},this.final_cache_settings.Valid=!0,!0),this.getCurrentFinal=()=>this.verifyAllAreCorrect()?this.final_cache_settings:{CacheSize:-1,MemorySize:-1,OffsetBits:-1,Associativity:"",Replacement:"",Tables:-1,Rows:-1,Valid:!1,s_bits:-1},this.entered_cache_settings={CacheSize:-1,MemorySize:-1,OffsetBits:-1,Associativity:"",Replacement:"",Tables:-1,Rows:-1,Valid:!1,s_bits:-1},this.final_cache_settings={...this.entered_cache_settings}}}let l=new o;function d(e){let t=l.getCurrentFinal();return!1==t.Valid?(0,s.jsx)("div",{}):(0,s.jsxs)("div",{className:"m-6 flex grow snap-x snap-mandatory overflow-x-scroll  scroll-smooth border-[4px] border-blue-600 p-6",children:[(0,s.jsx)("div",{className:"min-w-[7rem]"}),[...Array(t.Tables)].map((e,r)=>(0,s.jsx)(a,{rows:t.Rows,table_id:"Table ".concat(r+1)},"table-".concat(r))),(0,s.jsx)("div",{className:"min-w-[7rem]"})]})}var h=r(7815);function m(e){let{checkboxNames:t,stateRecorder:r,forceReload:i}=e;return(0,s.jsx)("div",{className:"relative mt-3 min-w-[14rem] rounded-xl text-[1rem] shadow-xl shadow-[#30373f]",children:t.map((e,t)=>(0,s.jsx)(g,{forceReload:i,checkboxName:e,stateRecorder:r},e[0]))})}function g(e){let{checkboxName:t,forceReload:r,stateRecorder:i}=e;return(0,s.jsx)("label",{onClick:()=>{i[0]()==t[1]?i[1](""):i[1](t[1]),r((0,h.randomBytes)(10))},htmlFor:t[0],className:"transition-[width, margin, padding, opacity] block cursor-pointer  rounded-lg border-2 bg-gray-800 p-3  text-center font-normal text-gray-400 duration-200  hover:border-gray-200 hover:bg-gray-700 hover:text-gray-300   "+(""==i[0]()?" my-2 animate-invalid-input ":" cubic-bezier(.41,-0.01,.51,.99) "+(i[0]()==t[1]?" visible m-1 border-blue-200 text-gray-200 opacity-100 hover:border-blue-300":"my-0 h-0 whitespace-nowrap border-y-0 border-gray-500 py-0 text-[0px] opacity-0")),children:t[1]})}function x(e){let{textName:t,inputHint:r,errorFunc:a,forceReload:n}=e,[c,o]=(0,i.useState)(!0),[l,d]=(0,i.useState)("");return(0,s.jsx)("div",{className:"m-1 inline-flex rounded-xl border-2 border-gray-700 bg-gray-800 text-gray-400 focus-within:border-gray-400  hover:border-gray-500 hover:bg-gray-700 hover:text-gray-200",children:(0,s.jsxs)("label",{className:"m-2 flex-row",children:[t,(0,s.jsxs)("div",{className:"ml-3 flex",children:[(0,s.jsx)("input",{onChange:e=>{d(e.target.value),n((0,h.randomBytes)(10))},form:_,type:"number",inputMode:"numeric",max:4096,min:0,step:1,placeholder:"0",required:!0,className:"inline-float h-7 w-[5rem] rounded-xl  border-[2px] border-transparent bg-gray-400 text-center text-gray-800 outline-none ring-transparent  ring-offset-transparent focus:ring-0 "+(()=>{switch(a(parseFloat(l))){case!0:return"  text-red-700  animate-invalid-input ";case!1:return" border-green-100 focus:border-green-100 "}})(),name:t}),(0,s.jsx)("div",{className:"m-1 flex max-w-[4rem] items-center overflow-clip text-pretty align-middle text-[10px] leading-3",children:r})]})]})})}function b(e){let{button_name:t}=e;return(0,s.jsx)("div",{className:"flex items-center ",children:(0,s.jsx)("button",{type:"submit",form:_,className:"m-2 h-fit w-fit cursor-pointer rounded-lg border-2 border-gray-700 bg-gray-800 p-5  font-normal text-gray-400 hover:border-gray-500 hover:bg-gray-700 hover:text-gray-300 active:border-gray-200",children:t})})}function f(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(0,s.jsxs)("div",{className:"m-4 max-h-[8rem] select-none flex-row rounded-xl border-2 border-[#bbbbbb33] bg-gradient-to-bl from-[#b3b2b23a] via-[#807f7f38] to-[#a1a1a121] p-3 text-center  text-xl font-bold text-gray-300 ".concat(r),children:[e,t]})}function u(e){let{forceReload:t,stateRecorder:r}=e;return(0,s.jsx)(m,{checkboxNames:[["cacheTypeOne","Direct Mapped Cache"],["cacheTypeTwo","Fully Associative Cache"],["cacheTypeThree","2-Way SA"],["cacheTypeFour","4-Way SA"]],forceReload:t,stateRecorder:r})}function y(e){let{forceReload:t,stateRecorder:r}=e;return(0,s.jsx)(m,{checkboxNames:[["replacementOne","First In - First Out"],["replacementTwo","Least Recently Used"],["replacementThree","RANDOM"]],forceReload:t,stateRecorder:r})}function v(e){let{forceReload:t,inputNames:r,inputHints:i,errorFuncs:a}=e;return(0,s.jsx)("div",{className:" text-base",children:r.map((e,r)=>(0,s.jsx)(x,{forceReload:t,textName:e,inputHint:i[r],errorFunc:a[r]},r))})}let _="cache-form-id";function p(e){let[t,r]=(0,i.useState)("");return(0,s.jsxs)("form",{id:_,className:"sticky z-[100] flex justify-end rounded-b-xl  border-[#ffffff42] bg-[#bbbbbb0a]",onSubmit:t=>{t.preventDefault(),l.verifyAllAreCorrect()&&e.reloadCache((0,h.randomBytes)(10))},children:[f("Associativeness",(0,s.jsx)(u,{forceReload:r,stateRecorder:[l.getAssociativity,l.setAssociativity]})),f("Replacement Policy",(0,s.jsx)(y,{forceReload:r,stateRecorder:[l.getReplacement,l.setReplacement]})),f("Cache Settings",(0,s.jsx)(v,{forceReload:r,inputNames:["Memory Size","Offset Bits","Cache Size"],inputHints:["(Power of 2) Bytes","Bits","(Power of 2) Bytes"],errorFuncs:[l.MemorySizeErrorFunc,l.OffsetBitErrorFunc,l.CacheSizeErrorFunc]})),(0,s.jsx)(b,{button_name:"Submit"})]})}function j(){let e,t,r,a=(0,i.useState)("");return(0,s.jsxs)("div",{children:[(0,s.jsx)("textarea",{value:a[0],onChange:e=>{a[1](e.target.value)},name:"cache-input",className:"h-[9rem] max-h-[9rem] min-h-[9rem] border-4 border-gray-600 bg-[#68666634] text-white focus:border-gray-900 focus:ring-0"}),(t=(e=null==(e=a[0].match(/^[^,]*/i))?"":e[0]).trim(),r=!!/^0x([a-f0-9]+)$/i.test(t),(0,s.jsxs)("div",{className:"min-h-[2rem] w-[17rem] overflow-clip whitespace-nowrap border-2 text-xl text-white "+(r?" border-blue-500 ":" border-red-500 "),children:[t,(0,s.jsx)("div",{})]})),(0,s.jsx)("div",{className:"flex items-center ",children:(0,s.jsx)("button",{onClick:()=>{let e=RegExp("(?<=\\,).*","i"),t=a[0].match(e);t=null==t?"":t[0];let r=/[^,]+/g.exec(t);t=null!=r?t.slice(r.index):t,a[1](t)},className:"m-2 h-fit w-fit cursor-pointer rounded-lg border-2 border-gray-700 bg-gray-800 p-5  font-normal text-gray-400 hover:border-gray-500 hover:bg-gray-700 hover:text-gray-300 active:border-gray-200",children:"Submit Instruction"})})]})}function w(){return(0,s.jsx)("div",{className:"m-4 flex min-w-[30rem]",children:(0,s.jsx)(j,{})})}function N(){let[e,t]=(0,i.useState)("");return(0,s.jsxs)("main",{className:"h-screen animate-gradient-xy flex-col bg-gradient-to-br from-[#30373f] via-[#052e3d] to-[#0f2520] ",children:[(0,s.jsx)(p,{reloadCache:t}),(0,s.jsxs)("div",{className:"flex h-[80%]",children:[(0,s.jsx)(w,{}),(0,s.jsx)(d,{reloadCache:t})]})]})}}},function(e){e.O(0,[218,289,971,69,744],function(){return e(e.s=7896)}),_N_E=e.O()}]);